<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Trang tài khoản</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="/listeo/css/style.css">
	<link rel="stylesheet" href="/listeo/css/main-color.css" id="colors">
	<link rel="icon" href="http://ttcntt.sgu.edu.vn/wp-content/uploads/2018/11/SGU-LOGO.png">
</head>

<style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    th, td {
        padding: 10px;
        text-align: left;
        border: 1px solid #ddd;
    }
    th {
        background-color: #f2f2f2;
    }
    tbody tr:hover {
        background-color: #f5f5f5;
    }
    .btn {
        text-decoration: none;
        padding: 8px 15px;
        border-radius: 4px;
        display: inline-block;
        margin-right: 5px;
        margin-bottom: 5px;
        font-size: 14px;
    }
    .btn-primary {
        background-color: #4CAF50;
        color: white;
    }
    .btn-danger {
        background-color: #f44336;
        color: white;
    }
    .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }
    .pagination a {
        padding: 8px 12px;
        margin: 0 5px;
        text-decoration: none;
        color: #333;
        background-color: #ddd;
        border-radius: 4px;
    }
    .pagination a.active {
        background-color: #4CAF50;
        color: white;
    }
    #logo {
	    display: flex;
	    align-items: center;
	}
	#logo img {
	    max-height: 80px; /* Điều chỉnh kích thước tối đa theo nhu cầu */
	    max-width: 100%;
	}
	#logo a {
	    margin-left: 50px; /* Điều chỉnh khoảng cách giữa logo và các phần khác nếu cần */
	}
	@media only screen and (max-width: 767px) {
	    #logo img {
	        max-height: 40px; /* Điều chỉnh kích thước tối đa trên thiết bị di động */
	    }
	}
</style>

<body>

	<div id="wrapper">

		<header id="header-container" class="fixed fullwidth dashboard">
			<div id="header" class="not-sticky">
				<div class="container">
					<div class="left-side">
						<div id="logo">
							<a th:href="@{/redirect}"><img src="/images/logo_in.png" alt=""></a>
							<a th:href="@{/redirect}" class="dashboard-logo"><img
								src="/images/logo_in.png" alt=""></a>
						</div>
						<div class="mmenu-trigger">
							<button class="hamburger hamburger--collapse" type="button">
								<span class="hamburger-box"> <span
									class="hamburger-inner"></span>
								</span>
							</button>
						</div>
					</div>

					<div class="right-side">
						<div class="header-widget">
							<div class="user-menu">
								<div class="user-name">
									<span><img th:src="${session.admin.avatar}" alt=""></span>Tài khoản
								</div>
								<ul>
									<li><a th:href="@{/dashboard}"><i
											class="sl sl-icon-settings"></i> Tổng quan</a></li>
									<li><a th:href="@{/dashboard-orders}"><i
											class="sl sl-icon-envelope-open"></i> Hóa đơn</a></li>
									<li><a th:href="@{/dashboard-wallet}"><i
											class="fa fa-calendar-check-o"></i> Ví dịch vụ</a></li>
									<li><a th:href="@{/list_user}"><i
											class="sl sl-icon-user"></i> Tài khoản</a></li>
									<li><a th:href="@{/list_product}"><i 
											class="sl sl-icon-bag"></i> Sản phẩm</a></li>
									<li><a th:href="@{/contact_gpt}"><i 
											class="sl sl-icon-question"></i> Giúp đỡ</a></li>
									<li><a th:href="@{/logout-admin}"><i
											class="sl sl-icon-power"></i> Đăng xuất</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<div class="clearfix"></div>
		<div id="dashboard">

			<a href="#" class="dashboard-responsive-nav-trigger"><i
				class="fa fa-reorder"></i> Dashboard Navigation</a>
			<div class="dashboard-nav">
				<div class="dashboard-nav-inner">

					<ul data-submenu-title="Main">
						<li><a th:href="@{/dashboard}"><i
								class="sl sl-icon-settings"></i> Tổng quan</a></li>
						<li><a th:href="@{/dashboard-orders}"><i
								class="fa fa-calendar-check-o"></i> Hóa đơn</a></li>
						<li><a th:href="@{/dashboard-wallet}"><i
								class="sl sl-icon-wallet"></i> Ví dịch vụ</a></li>
						<li class="active"><a th:href="@{/list_user}"><i
								class="sl sl-icon-user"></i> Tài khoản</a></li>
						<li><a th:href="@{/list_product}"><i 
								class="sl sl-icon-bag"></i> Sản phẩm</a></li>
						<li><a th:href="@{/contact_gpt}"><i 
								class="sl sl-icon-question"></i> Giúp đỡ</a></li>
						<li><a th:href="@{/logout-admin}"><i
								class="sl sl-icon-power"></i> Đăng xuất</a></li>
					</ul>
				</div>
			</div>
			
			<!---------------------------------- Start -------------------------------------------------------------->
			
			<div class="dashboard-content">
				<div id="titlebar">
					<div class="row">
						<div class="col-md-12">
							<h2>Quản lí tài khoản</h2>
							<nav id="breadcrumbs">
								<ul>
									<li><a href="#">Home</a></li>
									<li>Tài khoản</li>
								</ul>
							</nav>
						</div>
					</div>
				</div>

				<div class="container my-2">
            
                    <a th:href="@{/showNewUserForm}" class="btn btn-primary btn-sm mb-3"> Thêm tài khoản </a>
            
                    <table border="1">
                        <thead>
                            <tr>
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=id&sortDir=' + ${reverseSortDir}}"> ID </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=avatar&sortDir=' + ${reverseSortDir}}"> Avatar </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=email&sortDir=' + ${reverseSortDir}}"> Email </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=login_Type&sortDir=' + ${reverseSortDir}}"> Login Type </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=password&sortDir=' + ${reverseSortDir}}"> Password </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=phoneNumber&sortDir=' + ${reverseSortDir}}"> Phone </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=role&sortDir=' + ${reverseSortDir}}"> Role </a>
                                </th>
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=userName&sortDir=' + ${reverseSortDir}}"> User Name </a>
                                </th>
            
                                <th>
                                    <a th:href="@{'/pageUser/' + ${currentPage} + '?sortField=address&sortDir=' + ${reverseSortDir}}"> Address </a>
                                </th>
            
                                <th> Actions </th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr th:each="user : ${listUser}">
                                <td th:text="${user.id}"></td>
                                <td>
								    <img th:src="${user.avatar}" alt="Avatar" class="img-fluid" style="max-width: 150px; max-height: 150px;">
								</td>
                                <td th:text="${user.email}"></td>
                                <td th:text="${user.login_Type}"></td>
                                <td th:text="${user.password}"></td>
                                <td th:text="${user.phone_Number}"></td>
                                <td th:text="${user.role}"></td>
                                <td th:text="${user.user_Name}"></td>
                                <td th:text="${user.address}"></td>
                                <td>
                                    <a th:href="@{/updateListUser/{id}(id=${user.id})}" class="btn btn-primary">Sửa</a>
                                    <a th:href="@{/deleteUser/{id}(id=${user.id})}" class="btn btn-danger">Xóa</a>
                                </td>
                            </tr>
                        </tbody>
            
                    </table>
            
                    <div th:if="${totalPages > 1}">
                        <div class="row col-sm-10">
                            <div class="col-sm-2">
                                Total Rows: [[${totalItems}]]
                            </div>
                            <div class="col-sm-1">
                                <span th:each="i: ${#numbers.sequence(1, totalPages)}">
                                    <a th:if="${currentPage != i}" th:href="@{'/pageUser/' + ${i}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">[[${i}]]</a>
                                    <span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp; &nbsp;
                                </span>
                            </div>
                            <div class="col-sm-1">
                                <a th:if="${currentPage < totalPages}" th:href="@{'/pageUser/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Next</a>
                                <span th:unless="${currentPage < totalPages}">Next</span>
                            </div>
            
                            <div class="col-sm-1">
                                <a th:if="${currentPage < totalPages}" th:href="@{'/pageUser/' + ${totalPages}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Last</a>
                                <span th:unless="${currentPage < totalPages}">Last</span>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
			
			<!------------------------------------ End ------------------------------------------------------------>
			
		</div>
	</div>

	<!-- Scripts
================================================== -->
	<script type="text/javascript" src="/scripts/jquery-3.6.0.min.js"></script>
	<script type="text/javascript"
		src="/scripts/jquery-migrate-3.3.2.min.js"></script>
	<script type="text/javascript" src="/scripts/mmenu.min.js"></script>
	<script type="text/javascript" src="/scripts/chosen.min.js"></script>
	<script type="text/javascript" src="/scripts/slick.min.js"></script>
	<script type="text/javascript" src="/scripts/rangeslider.min.js"></script>
	<script type="text/javascript" src="/scripts/magnific-popup.min.js"></script>
	<script type="text/javascript" src="/scripts/waypoints.min.js"></script>
	<script type="text/javascript" src="/scripts/counterup.min.js"></script>
	<script type="text/javascript" src="/scripts/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/scripts/tooltips.min.js"></script>
	<script type="text/javascript" src="/scripts/custom.js"></script>

	<!-- Date Range Picker - docs: http://www.daterangepicker.com/ -->
	<script src="/scripts/moment.min.js"></script>
	<script src="/scripts/daterangepicker.js"></script>

	<script>
		$(function() {

			var start = moment().subtract(29, 'days');
			var end = moment();

			function cb(start, end) {
				$('#booking-date-range span').html(
						start.format('MMMM D, YYYY') + ' - '
								+ end.format('MMMM D, YYYY'));
			}
			cb(start, end);
			$('#booking-date-range').daterangepicker(
					{
						"opens" : "left",
						"autoUpdateInput" : false,
						"alwaysShowCalendars" : true,
						startDate : start,
						endDate : end,
						ranges : {
							'Today' : [ moment(), moment() ],
							'Yesterday' : [ moment().subtract(1, 'days'),
									moment().subtract(1, 'days') ],
							'Last 7 Days' : [ moment().subtract(6, 'days'),
									moment() ],
							'Last 30 Days' : [ moment().subtract(29, 'days'),
									moment() ],
							'This Month' : [ moment().startOf('month'),
									moment().endOf('month') ],
							'Last Month' : [
									moment().subtract(1, 'month').startOf(
											'month'),
									moment().subtract(1, 'month')
											.endOf('month') ]
						}
					}, cb);

			cb(start, end);

		});

		// Cài đặt hình ảnh và hoạt ảnh lịch
		$('#booking-date-range')
				.on(
						'show.daterangepicker',
						function(ev, picker) {
							$('.daterangepicker')
									.addClass(
											'calendar-visible calendar-animated bordered-style');
							$('.daterangepicker')
									.removeClass('calendar-hidden');
						});
		$('#booking-date-range').on('hide.daterangepicker',
				function(ev, picker) {
					$('.daterangepicker').removeClass('calendar-visible');
					$('.daterangepicker').addClass('calendar-hidden');
				});
	</script>

</body>
</html>